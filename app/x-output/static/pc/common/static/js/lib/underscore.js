(function(){var a=this,c=a._,h={},v=Array.prototype,g=Object.prototype,y=Function.prototype,b=v.push,w=v.slice,_=v.concat,j=g.toString,A=g.hasOwnProperty,O=v.forEach,k=v.map,E=v.reduce,F=v.reduceRight,M=v.filter,R=v.every,S=v.some,T=v.indexOf,I=v.lastIndexOf,N=Array.isArray,B=Object.keys,D=y.bind,z=function(a){return a instanceof z?a:this instanceof z?void(this._wrapped=a):new z(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=z),exports._=z):a._=z,z.VERSION="1.6.0";var C=z.each=z.forEach=function(a,c,v){if(null==a)return a;if(O&&a.forEach===O)a.forEach(c,v);else if(a.length===+a.length){for(var i=0,g=a.length;g>i;i++)if(c.call(v,a[i],i,a)===h)return}else for(var y=z.keys(a),i=0,g=y.length;g>i;i++)if(c.call(v,a[y[i]],y[i],a)===h)return;return a};z.map=z.collect=function(a,c,h){var v=[];return null==a?v:k&&a.map===k?a.map(c,h):(C(a,function(a,g,y){v.push(c.call(h,a,g,y))}),v)};var P="Reduce of empty array with no initial value";z.reduce=z.foldl=z.inject=function(a,c,h,v){var g=arguments.length>2;if(null==a&&(a=[]),E&&a.reduce===E)return v&&(c=z.bind(c,v)),g?a.reduce(c,h):a.reduce(c);if(C(a,function(a,y,b){g?h=c.call(v,h,a,y,b):(h=a,g=!0)}),!g)throw new TypeError(P);return h},z.reduceRight=z.foldr=function(a,c,h,v){var g=arguments.length>2;if(null==a&&(a=[]),F&&a.reduceRight===F)return v&&(c=z.bind(c,v)),g?a.reduceRight(c,h):a.reduceRight(c);var y=a.length;if(y!==+y){var b=z.keys(a);y=b.length}if(C(a,function(w,_,j){_=b?b[--y]:--y,g?h=c.call(v,h,a[_],_,j):(h=a[_],g=!0)}),!g)throw new TypeError(P);return h},z.find=z.detect=function(a,c,h){var v;return U(a,function(a,g,y){return c.call(h,a,g,y)?(v=a,!0):void 0}),v},z.filter=z.select=function(a,c,h){var v=[];return null==a?v:M&&a.filter===M?a.filter(c,h):(C(a,function(a,g,y){c.call(h,a,g,y)&&v.push(a)}),v)},z.reject=function(a,c,h){return z.filter(a,function(a,v,g){return!c.call(h,a,v,g)},h)},z.every=z.all=function(a,c,v){c||(c=z.identity);var g=!0;return null==a?g:R&&a.every===R?a.every(c,v):(C(a,function(a,y,b){return(g=g&&c.call(v,a,y,b))?void 0:h}),!!g)};var U=z.some=z.any=function(a,c,v){c||(c=z.identity);var g=!1;return null==a?g:S&&a.some===S?a.some(c,v):(C(a,function(a,y,b){return g||(g=c.call(v,a,y,b))?h:void 0}),!!g)};z.contains=z.include=function(a,c){return null==a?!1:T&&a.indexOf===T?-1!=a.indexOf(c):U(a,function(a){return a===c})},z.invoke=function(a,c){var h=w.call(arguments,2),v=z.isFunction(c);return z.map(a,function(a){return(v?c:a[c]).apply(a,h)})},z.pluck=function(a,c){return z.map(a,z.property(c))},z.where=function(a,c){return z.filter(a,z.matches(c))},z.findWhere=function(a,c){return z.find(a,z.matches(c))},z.max=function(a,c,h){if(!c&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var v=-1/0,g=-1/0;return C(a,function(a,y,b){var w=c?c.call(h,a,y,b):a;w>g&&(v=a,g=w)}),v},z.min=function(a,c,h){if(!c&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var v=1/0,g=1/0;return C(a,function(a,y,b){var w=c?c.call(h,a,y,b):a;g>w&&(v=a,g=w)}),v},z.shuffle=function(a){var c,h=0,v=[];return C(a,function(a){c=z.random(h++),v[h-1]=v[c],v[c]=a}),v},z.sample=function(a,n,c){return null==n||c?(a.length!==+a.length&&(a=z.values(a)),a[z.random(a.length-1)]):z.shuffle(a).slice(0,Math.max(0,n))};var V=function(a){return null==a?z.identity:z.isFunction(a)?a:z.property(a)};z.sortBy=function(a,c,h){return c=V(c),z.pluck(z.map(a,function(a,v,g){return{value:a,index:v,criteria:c.call(h,a,v,g)}}).sort(function(a,c){var h=a.criteria,v=c.criteria;if(h!==v){if(h>v||void 0===h)return 1;if(v>h||void 0===v)return-1}return a.index-c.index}),"value")};var W=function(a){return function(c,h,v){var g={};return h=V(h),C(c,function(y,b){var w=h.call(v,y,b,c);a(g,w,y)}),g}};z.groupBy=W(function(a,c,h){z.has(a,c)?a[c].push(h):a[c]=[h]}),z.indexBy=W(function(a,c,h){a[c]=h}),z.countBy=W(function(a,c){z.has(a,c)?a[c]++:a[c]=1}),z.sortedIndex=function(a,c,h,v){h=V(h);for(var g=h.call(v,c),y=0,b=a.length;b>y;){var w=y+b>>>1;h.call(v,a[w])<g?y=w+1:b=w}return y},z.toArray=function(a){return a?z.isArray(a)?w.call(a):a.length===+a.length?z.map(a,z.identity):z.values(a):[]},z.size=function(a){return null==a?0:a.length===+a.length?a.length:z.keys(a).length},z.first=z.head=z.take=function(a,n,c){return null==a?void 0:null==n||c?a[0]:0>n?[]:w.call(a,0,n)},z.initial=function(a,n,c){return w.call(a,0,a.length-(null==n||c?1:n))},z.last=function(a,n,c){return null==a?void 0:null==n||c?a[a.length-1]:w.call(a,Math.max(a.length-n,0))},z.rest=z.tail=z.drop=function(a,n,c){return w.call(a,null==n||c?1:n)},z.compact=function(a){return z.filter(a,z.identity)};var $=function(a,c,h){return c&&z.every(a,z.isArray)?_.apply(h,a):(C(a,function(a){z.isArray(a)||z.isArguments(a)?c?b.apply(h,a):$(a,c,h):h.push(a)}),h)};z.flatten=function(a,c){return $(a,c,[])},z.without=function(a){return z.difference(a,w.call(arguments,1))},z.partition=function(a,c){var h=[],v=[];return C(a,function(a){(c(a)?h:v).push(a)}),[h,v]},z.uniq=z.unique=function(a,c,h,v){z.isFunction(c)&&(v=h,h=c,c=!1);var g=h?z.map(a,h,v):a,y=[],b=[];return C(g,function(h,v){(c?v&&b[b.length-1]===h:z.contains(b,h))||(b.push(h),y.push(a[v]))}),y},z.union=function(){return z.uniq(z.flatten(arguments,!0))},z.intersection=function(a){var c=w.call(arguments,1);return z.filter(z.uniq(a),function(a){return z.every(c,function(c){return z.contains(c,a)})})},z.difference=function(a){var c=_.apply(v,w.call(arguments,1));return z.filter(a,function(a){return!z.contains(c,a)})},z.zip=function(){for(var a=z.max(z.pluck(arguments,"length").concat(0)),c=new Array(a),i=0;a>i;i++)c[i]=z.pluck(arguments,""+i);return c},z.object=function(a,c){if(null==a)return{};for(var h={},i=0,v=a.length;v>i;i++)c?h[a[i]]=c[i]:h[a[i][0]]=a[i][1];return h},z.indexOf=function(a,c,h){if(null==a)return-1;var i=0,v=a.length;if(h){if("number"!=typeof h)return i=z.sortedIndex(a,c),a[i]===c?i:-1;i=0>h?Math.max(0,v+h):h}if(T&&a.indexOf===T)return a.indexOf(c,h);for(;v>i;i++)if(a[i]===c)return i;return-1},z.lastIndexOf=function(a,c,h){if(null==a)return-1;var v=null!=h;if(I&&a.lastIndexOf===I)return v?a.lastIndexOf(c,h):a.lastIndexOf(c);for(var i=v?h:a.length;i--;)if(a[i]===c)return i;return-1},z.range=function(a,c,h){arguments.length<=1&&(c=a||0,a=0),h=arguments[2]||1;for(var v=Math.max(Math.ceil((c-a)/h),0),g=0,y=new Array(v);v>g;)y[g++]=a,a+=h;return y};var G=function(){};z.bind=function(a,c){var h,v;if(D&&a.bind===D)return D.apply(a,w.call(arguments,1));if(!z.isFunction(a))throw new TypeError;return h=w.call(arguments,2),v=function(){if(!(this instanceof v))return a.apply(c,h.concat(w.call(arguments)));G.prototype=a.prototype;var g=new G;G.prototype=null;var y=a.apply(g,h.concat(w.call(arguments)));return Object(y)===y?y:g}},z.partial=function(a){var c=w.call(arguments,1);return function(){for(var h=0,v=c.slice(),i=0,g=v.length;g>i;i++)v[i]===z&&(v[i]=arguments[h++]);for(;h<arguments.length;)v.push(arguments[h++]);return a.apply(this,v)}},z.bindAll=function(a){var c=w.call(arguments,1);if(0===c.length)throw new Error("bindAll must be passed function names");return C(c,function(f){a[f]=z.bind(a[f],a)}),a},z.memoize=function(a,c){var h={};return c||(c=z.identity),function(){var v=c.apply(this,arguments);return z.has(h,v)?h[v]:h[v]=a.apply(this,arguments)}},z.delay=function(a,c){var h=w.call(arguments,2);return setTimeout(function(){return a.apply(null,h)},c)},z.defer=function(a){return z.delay.apply(z,[a,1].concat(w.call(arguments,1)))},z.throttle=function(a,c,h){var v,g,y,b=null,w=0;h||(h={});var _=function(){w=h.leading===!1?0:z.now(),b=null,y=a.apply(v,g),v=g=null};return function(){var j=z.now();w||h.leading!==!1||(w=j);var A=c-(j-w);return v=this,g=arguments,0>=A?(clearTimeout(b),b=null,w=j,y=a.apply(v,g),v=g=null):b||h.trailing===!1||(b=setTimeout(_,A)),y}},z.debounce=function(a,c,h){var v,g,y,b,w,_=function(){var j=z.now()-b;c>j?v=setTimeout(_,c-j):(v=null,h||(w=a.apply(y,g),y=g=null))};return function(){y=this,g=arguments,b=z.now();var j=h&&!v;return v||(v=setTimeout(_,c)),j&&(w=a.apply(y,g),y=g=null),w}},z.once=function(a){var c,h=!1;return function(){return h?c:(h=!0,c=a.apply(this,arguments),a=null,c)}},z.wrap=function(a,c){return z.partial(c,a)},z.compose=function(){var a=arguments;return function(){for(var c=arguments,i=a.length-1;i>=0;i--)c=[a[i].apply(this,c)];return c[0]}},z.after=function(a,c){return function(){return--a<1?c.apply(this,arguments):void 0}},z.keys=function(a){if(!z.isObject(a))return[];if(B)return B(a);var c=[];for(var h in a)z.has(a,h)&&c.push(h);return c},z.values=function(a){for(var c=z.keys(a),h=c.length,v=new Array(h),i=0;h>i;i++)v[i]=a[c[i]];return v},z.pairs=function(a){for(var c=z.keys(a),h=c.length,v=new Array(h),i=0;h>i;i++)v[i]=[c[i],a[c[i]]];return v},z.invert=function(a){for(var c={},h=z.keys(a),i=0,v=h.length;v>i;i++)c[a[h[i]]]=h[i];return c},z.functions=z.methods=function(a){var c=[];for(var h in a)z.isFunction(a[h])&&c.push(h);return c.sort()},z.extend=function(a){return C(w.call(arguments,1),function(c){if(c)for(var h in c)a[h]=c[h]}),a},z.pick=function(a){var c={},h=_.apply(v,w.call(arguments,1));return C(h,function(h){h in a&&(c[h]=a[h])}),c},z.omit=function(a){var c={},h=_.apply(v,w.call(arguments,1));for(var g in a)z.contains(h,g)||(c[g]=a[g]);return c},z.defaults=function(a){return C(w.call(arguments,1),function(c){if(c)for(var h in c)void 0===a[h]&&(a[h]=c[h])}),a},z.clone=function(a){return z.isObject(a)?z.isArray(a)?a.slice():z.extend({},a):a},z.tap=function(a,c){return c(a),a};var eq=function(a,c,h,v){if(a===c)return 0!==a||1/a==1/c;if(null==a||null==c)return a===c;a instanceof z&&(a=a._wrapped),c instanceof z&&(c=c._wrapped);var g=j.call(a);if(g!=j.call(c))return!1;switch(g){case"[object String]":return a==String(c);case"[object Number]":return a!=+a?c!=+c:0==a?1/a==1/c:a==+c;case"[object Date]":case"[object Boolean]":return+a==+c;case"[object RegExp]":return a.source==c.source&&a.global==c.global&&a.multiline==c.multiline&&a.ignoreCase==c.ignoreCase}if("object"!=typeof a||"object"!=typeof c)return!1;for(var y=h.length;y--;)if(h[y]==a)return v[y]==c;var b=a.constructor,w=c.constructor;if(b!==w&&!(z.isFunction(b)&&b instanceof b&&z.isFunction(w)&&w instanceof w)&&"constructor"in a&&"constructor"in c)return!1;h.push(a),v.push(c);var _=0,A=!0;if("[object Array]"==g){if(_=a.length,A=_==c.length)for(;_--&&(A=eq(a[_],c[_],h,v)););}else{for(var O in a)if(z.has(a,O)&&(_++,!(A=z.has(c,O)&&eq(a[O],c[O],h,v))))break;if(A){for(O in c)if(z.has(c,O)&&!_--)break;A=!_}}return h.pop(),v.pop(),A};z.isEqual=function(a,c){return eq(a,c,[],[])},z.isEmpty=function(a){if(null==a)return!0;if(z.isArray(a)||z.isString(a))return 0===a.length;for(var c in a)if(z.has(a,c))return!1;return!0},z.isElement=function(a){return!(!a||1!==a.nodeType)},z.isArray=N||function(a){return"[object Array]"==j.call(a)},z.isObject=function(a){return a===Object(a)},C(["Arguments","Function","String","Number","Date","RegExp"],function(a){z["is"+a]=function(c){return j.call(c)=="[object "+a+"]"}}),z.isArguments(arguments)||(z.isArguments=function(a){return!(!a||!z.has(a,"callee"))}),"function"!=typeof/./&&(z.isFunction=function(a){return"function"==typeof a}),z.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},z.isNaN=function(a){return z.isNumber(a)&&a!=+a},z.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},z.isNull=function(a){return null===a},z.isUndefined=function(a){return void 0===a},z.has=function(a,c){return A.call(a,c)},z.noConflict=function(){return a._=c,this},z.identity=function(a){return a},z.constant=function(a){return function(){return a}},z.property=function(a){return function(c){return c[a]}},z.matches=function(a){return function(c){if(c===a)return!0;for(var h in a)if(a[h]!==c[h])return!1;return!0}},z.times=function(n,a,c){for(var h=Array(Math.max(0,n)),i=0;n>i;i++)h[i]=a.call(c,i);return h},z.random=function(a,c){return null==c&&(c=a,a=0),a+Math.floor(Math.random()*(c-a+1))},z.now=Date.now||function(){return(new Date).getTime()};var H={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};H.unescape=z.invert(H.escape);var J={escape:new RegExp("["+z.keys(H.escape).join("")+"]","g"),unescape:new RegExp("("+z.keys(H.unescape).join("|")+")","g")};z.each(["escape","unescape"],function(a){z[a]=function(c){return null==c?"":(""+c).replace(J[a],function(c){return H[a][c]})}}),z.result=function(a,c){if(null==a)return void 0;var h=a[c];return z.isFunction(h)?h.call(a):h},z.mixin=function(a){C(z.functions(a),function(c){var h=z[c]=a[c];z.prototype[c]=function(){var a=[this._wrapped];return b.apply(a,arguments),Y.call(this,h.apply(z,a))}})};var K=0;z.uniqueId=function(a){var c=++K+"";return a?a+c:c},z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,Q={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\t|\u2028|\u2029/g;z.template=function(a,c,h){var v;h=z.defaults({},h,z.templateSettings);var g=new RegExp([(h.escape||L).source,(h.interpolate||L).source,(h.evaluate||L).source].join("|")+"|$","g"),y=0,b="__p+='";a.replace(g,function(c,h,v,g,w){return b+=a.slice(y,w).replace(X,function(a){return"\\"+Q[a]}),h&&(b+="'+\n((__t=("+h+"))==null?'':_.escape(__t))+\n'"),v&&(b+="'+\n((__t=("+v+"))==null?'':__t)+\n'"),g&&(b+="';\n"+g+"\n__p+='"),y=w+c.length,c}),b+="';\n",h.variable||(b="with(obj||{}){\n"+b+"}\n"),b="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+b+"return __p;\n";try{v=new Function(h.variable||"obj","_",b)}catch(e){throw e.source=b,e}if(c)return v(c,z);var w=function(a){return v.call(this,a,z)};return w.source="function("+(h.variable||"obj")+"){\n"+b+"}",w},z.chain=function(a){return z(a).chain()};var Y=function(a){return this._chain?z(a).chain():a};z.mixin(z),C(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var c=v[a];z.prototype[a]=function(){var h=this._wrapped;return c.apply(h,arguments),"shift"!=a&&"splice"!=a||0!==h.length||delete h[0],Y.call(this,h)}}),C(["concat","join","slice"],function(a){var c=v[a];z.prototype[a]=function(){return Y.call(this,c.apply(this._wrapped,arguments))}}),z.extend(z.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return z})}).call(this);